(this["webpackJsonpsigue-la-historia"]=this["webpackJsonpsigue-la-historia"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(11),a=n.n(c),i=(n(18),n(19),n(2)),o=n(0),j=Object(r.createContext)({}),u=function(e){var t=e.children,n=Object(r.useState)([]),s=Object(i.a)(n,2),c=s[0],a=s[1],u=Object(r.useState)(0),l=Object(i.a)(u,2),b=l[0],m=l[1];return Object(o.jsx)(j.Provider,{value:{story:c,setStory:a,currentFragment:b,setCurrentFragment:m},children:t})},l=n(13),b=n(7),m=n(12),O=Object(r.memo)((function(e){var t;return Object(o.jsx)(s.a.Fragment,{children:Object(o.jsxs)("div",{className:"storyFragment",children:[(null===(t=e.storyFragment)||void 0===t?void 0:t.image)&&Object(o.jsx)("figure",{className:"image",children:Object(o.jsx)("img",{src:"images/"+e.storyFragment.image,alt:"Illustration"})}),Object(o.jsx)("div",{className:"storyLine storyLineColette",children:e.storyFragment?Object(m.a)(e.storyFragment.colette):"Wait for it..."})]})})})),d=Object(r.memo)((function(e){return Object(o.jsx)(s.a.Fragment,{children:Object(o.jsx)("div",{className:"storyHistory",children:Object(o.jsx)("div",{className:"historyFragments",children:e.history.map((function(e){return console.log({h:e}),Object(o.jsxs)(s.a.Fragment,{children:[Object(o.jsx)(O,{storyFragment:e}),Object(o.jsx)("div",{className:"storyLine storyLineAnswer",children:e.answers.value})]},e.id)}))})})})})),f=Object(r.memo)((function(e){return Object(o.jsx)(s.a.Fragment,{children:Object(o.jsx)("div",{className:"answers",children:e.answers&&e.answers.map((function(t){return Object(o.jsx)("button",{className:"answer",onClick:function(){return function(t){e.sendData(t)}(t)},children:t.value},t.fragment)}))})})})),g=function(){var e=Object(r.useContext)(j),t=e.story,n=e.setStory,s=e.currentFragment,c=e.setCurrentFragment,a=Object(r.useState)(!1),u=Object(i.a)(a,2),m=u[0],g=u[1],h=Object(r.useState)([]),x=Object(i.a)(h,2),v=x[0],y=x[1];Object(r.useEffect)((function(){fetch("./data/fragments.json").then((function(e){return e.json()})).then((function(e){n(e),F(e,s)}))}),[]),Object(r.useEffect)((function(){var e=F(t,s);g(e)}),[t,s]);var F=function(e,t){return e.find((function(e){return e.id===t}))};return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)("div",{className:"story",children:[Object.keys(v).length>0&&Object(o.jsx)(d,{history:v}),Object(o.jsx)("div",{className:"storyCurrent",children:m&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(O,{storyFragment:m}),Object(o.jsx)(f,{answers:m.answers,sendData:function(e){if("end"===e.fragment||0===e.fragment)y([]);else{var t=Object(b.a)(Object(b.a)({},m),{},{answers:m.answers.find((function(t){return t.fragment===e.fragment}))}),n=[].concat(Object(l.a)(v),[t]);y(n)}c(e.fragment)}})]})})]})})};var h=function(){return Object(o.jsx)(u,{children:Object(o.jsx)(g,{})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),c(e),a(e)}))};a.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root")),x()}},[[34,1,2]]]);
//# sourceMappingURL=main.52f1366e.chunk.js.map