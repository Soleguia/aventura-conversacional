(this["webpackJsonpsigue-la-historia"]=this["webpackJsonpsigue-la-historia"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(11),a=n.n(c),i=(n(18),n(19),n(2)),j=n(0),o=Object(r.createContext)({}),u=function(e){var t=e.children,n=Object(r.useState)([]),s=Object(i.a)(n,2),c=s[0],a=s[1],u=Object(r.useState)(0),b=Object(i.a)(u,2),l=b[0],m=b[1];return Object(j.jsx)(o.Provider,{value:{story:c,setStory:a,currentFragment:l,setCurrentFragment:m},children:t})},b=n(13),l=n(7),m=n(12),O=Object(r.memo)((function(e){var t;return Object(j.jsx)(s.a.Fragment,{children:Object(j.jsxs)("div",{className:"storyFragment",children:[(null===(t=e.storyFragment)||void 0===t?void 0:t.image)&&Object(j.jsx)("figure",{className:"image",children:Object(j.jsx)("img",{src:"images/"+e.storyFragment.image,alt:"Illustration"})}),Object(j.jsx)("div",{className:"storyLine storyLineMessage",children:e.storyFragment?Object(m.a)(e.storyFragment.message):"Wait for it..."})]})})})),d=Object(r.memo)((function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current.scrollTop=t.current.scrollHeight}),[e.history]),Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)("div",{className:"storyHistory",children:Object(j.jsx)("div",{className:"historyFragments",ref:t,children:e.history.map((function(e){return Object(j.jsxs)(s.a.Fragment,{children:[Object(j.jsx)(O,{storyFragment:e}),Object(j.jsx)("div",{className:"storyLine storyLineAnswer",children:e.answers.value})]},e.id)}))})})})})),f=Object(r.memo)((function(e){return Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)("div",{className:"answers",children:e.answers&&e.answers.map((function(t){return Object(j.jsx)("button",{className:"answer",onClick:function(){return function(t){e.sendData(t)}(t)},children:t.value},t.fragment)}))})})})),g=function(){var e=Object(r.useContext)(o),t=e.story,n=e.setStory,s=e.currentFragment,c=e.setCurrentFragment,a=Object(r.useState)(!1),u=Object(i.a)(a,2),m=u[0],g=u[1],h=Object(r.useState)([]),x=Object(i.a)(h,2),y=x[0],v=x[1];Object(r.useEffect)((function(){fetch("./data/story.json").then((function(e){return e.json()})).then((function(e){n(e),F(e,s)}))}),[]),Object(r.useEffect)((function(){var e=F(t,s);g(e)}),[t,s]);var F=function(e,t){return e.find((function(e){return e.id===t}))};return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"story",children:[Object.keys(y).length>0&&Object(j.jsx)(d,{history:y}),Object(j.jsx)("div",{className:"storyCurrent",children:m&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O,{storyFragment:m}),Object(j.jsx)(f,{answers:m.answers,sendData:function(e){if("end"===e.fragment||0===e.fragment)v([]);else{var t=Object(l.a)(Object(l.a)({},m),{},{answers:m.answers.find((function(t){return t.fragment===e.fragment}))}),n=[].concat(Object(b.a)(y),[t]);v(n)}c(e.fragment)}})]})})]})})};var h=function(){return Object(j.jsx)(u,{children:Object(j.jsx)(g,{})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),c(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),x()}},[[34,1,2]]]);
//# sourceMappingURL=main.5bfbd139.chunk.js.map